<ng-container *ngIf="quiz">
    <!-- {{shuffleArray(quiz.questions)}} -->

    <div *ngIf="!endOfQuiz || quiz.questions.length<0; then quiz_play; else quiz_end"></div>
    <ng-template #quiz_play>
            <div class="card question-card-stade6">
                <div class="quiz-question-layout">
                    <h1 class="quiz-question-label">{{currentQuestion.label}}</h1>
                    <div class="stade6-layout">
                        <div *ngIf="randomImageToleft ;then leftSide; else rightSide"></div>
                        <ng-template #leftSide>
                            <img id="correctImage"  (click)="onAnswer(true, 'correctImage')" class="image-question-size-stade6" src="{{currentQuestion.images[currentQuestion.currentImage].url}}" alt=""/>
                            <img id="incorrectImage"  (click)="onAnswer(false, 'incorrectImage')" class="image-question-size-stade6" src="{{randomImages[currentRandomImage]}}" alt=""/>
                        </ng-template>
                        <ng-template #rightSide>
                            <img id="incorrectImage"  (click)="onAnswer(false, 'incorrectImage')" class="image-question-size-stade6" src="{{randomImages[currentRandomImage]}}" alt=""/>
                            <img id="correctImage"  (click)="onAnswer(true, 'correctImage')" class="image-question-size-stade6" src="{{currentQuestion.images[currentQuestion.currentImage].url}}" alt=""/>
                        </ng-template>
                    </div>
                </div>
            </div>
    </ng-template>

    <ng-template #quiz_end>
        <div class="end-of-quiz">
            <h1>Fin du quiz</h1>
            <p>Merci d'avoir jou√© !</p>
            <button class="button-card" [routerLink]="['/play-page']">Retour</button>
            <button class="button-card" (click)="reloadQuiz()">Rejouer</button>
        </div>
        <div class="stats-quiz-layout">
            <div class="stats-quiz-questions">
                <h1>Stats quiz</h1>
                <p>Correct questions : {{quiz.correctQuestions}}</p>
                <p>Incorrect questions : {{quiz.incorrectQuestions}}</p>
            </div>

            <div class="stats-quiz-questions-answers" *ngFor="let question of quiz.questions">
                <p>{{question.label}} - {{question.id}}<br></p>
                    <p>Correct Answers: {{question.correctAnswers}}/{{question.answers.length}}</p>
                    <p>Incorrect Answers: {{question.incorrectAnswers}}/{{question.answers.length}}</p>
            </div>
        </div>
    </ng-template>

</ng-container>
